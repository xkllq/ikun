"use strict";(self["webpackChunkhmtt81"]=self["webpackChunkhmtt81"]||[]).push([[162],{8162:function(e,t,i){i.r(t),i.d(t,{default:function(){return c}});var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("van-nav-bar",{attrs:{title:"登录"}}),i("van-form",{on:{submit:e.onSubmit}},[i("van-field",{attrs:{label:"手机号",placeholder:"请输入手机号",rules:e.rules.mobile},model:{value:e.info.mobile,callback:function(t){e.$set(e.info,"mobile",t)},expression:"info.mobile"}}),i("van-field",{attrs:{label:"验证码",placeholder:"请输入验证码",rules:e.rules.code},model:{value:e.info.code,callback:function(t){e.$set(e.info,"code",t)},expression:"info.code"}}),i("div",{staticStyle:{margin:"16px"}},[i("van-button",{attrs:{loading:e.isLoading,"loading-type":"spinner","loading-size":"50px","loading-text":"登录中...",round:"",block:"",type:"info","native-type":"submit",color:"linear-gradient(to right, grey, #90f, #ff6034, #ee0a24, #09f)"}},[e._v("登录 ")])],1)],1)],1)},a=[],n=i(6684),s={name:"login-index",data(){return{isLoading:!1,info:{mobile:"17891005832",code:"246810"},rules:{mobile:[{required:!0,message:"请填写手机号"},{pattern:/^1\d{10}$/,message:"请填写正确的手机号"}],code:[{required:!0,message:"请填写验证码"},{pattern:/^\d{6}$/,message:"请填写正确的验证码"}]}}},methods:{async onSubmit(){this.isLoading=!0;try{const e=await(0,n.UO)(this.info);this.$store.commit("changeTokenObj",e.data.data),this.$toast.success("登录成功"),this.$store.commit("changeUserInfo",{}),this.$route.query.back?this.$router.push(this.$route.query.back):this.$router.push("/layout/home")}catch{this.$toast.fail("登录成功")}this.isLoading=!1}}},r=s,l=i(1001),u=(0,l.Z)(r,o,a,!1,null,null,null),c=u.exports}}]);